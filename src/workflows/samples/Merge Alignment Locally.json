{
    "name":"Local Server: Merge-Align-Convert",
    "desc":"None",
    "script":[
        "#Take two files of a pair-end sequence",
        "data = '/public/MiSeq_SOP/F3D7_S195_L001_R1_001.fastq'",
        "data2 = '/public/MiSeq_SOP/F3D7_S195_L001_R2_001.fastq'",
        "",
        "# check two fastq files for quality",
        "html, zip = fastqc.CheckQuality(data)",
        "print(html)",
        "html, zip = fastqc.CheckQuality(data2)",
        "print(html)",
        "",
        "# merge these files",
        "data = pear.Merge(data, data2)",
        "print(data)",
        "",
        "# align the merged file with a reference dna",
        "ref = '/public/genomes/Chr1.cdna'",
        "data = bwa.Align(ref, data)",
        "print(data)",
        "",
        "# convert the aligned sam file to bam format",
        "data = pysam.SamToBam(data)",
        "print(data)",
        ""
    ],
    "returns": [
        {
            "name": "data",
            "type": "file",
            "desc": "The final binary  alignment and map (BAM) file."
        }
    ],
    "params": [
        {
            "name": "data",
            "type": "file",
            "desc": "The sequence file in fastq or fa format."
        },
        {
            "name": "ref",
            "type": "file",
            "desc": "The reference DNA file."
        }
    ]
}